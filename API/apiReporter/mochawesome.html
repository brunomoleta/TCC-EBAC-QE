<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:10,&quot;tests&quot;:16,&quot;passes&quot;:12,&quot;pending&quot;:0,&quot;failures&quot;:4,&quot;start&quot;:&quot;2024-07-19T15:29:38.997Z&quot;,&quot;end&quot;:&quot;2024-07-19T15:29:42.951Z&quot;,&quot;duration&quot;:3954,&quot;testsRegistered&quot;:16,&quot;passPercent&quot;:75,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;597e3cad-d928-46d0-a410-45a678b60afe&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6cc5207d-2f13-4aed-af7d-bff8610107e8&quot;,&quot;title&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\getCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\getCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b3676fe0-1848-4118-9149-69da5dd8422f&quot;,&quot;title&quot;:&quot;Quando é feita uma requisição com autenticação e autorização&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\getCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\getCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição com autenticação e autorização\&quot;&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API Quando é feita uma requisição com autenticação e autorização \&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição com autenticação e autorização\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:834,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request(apiUrl)\n    .get(apiRoute)\n    .set(\&quot;Authorization\&quot;, `Bearer ${token}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e59c256a-5caf-483b-b54a-8938e238ff8b&quot;,&quot;parentUUID&quot;:&quot;b3676fe0-1848-4118-9149-69da5dd8422f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar a lista dos cupons ativos.&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API Quando é feita uma requisição com autenticação e autorização Deve retornar a lista dos cupons ativos.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const jsonData = response.body;\nexpect(jsonData).to.be.an(&#x27;array&#x27;).that.is.not.empty;\njsonData.forEach(item =&gt; {\n    expect(item).to.be.an(&#x27;object&#x27;);\n    expect(item).to.have.property(&#x27;id&#x27;);\n    expect(item.id).to.be.a(&#x27;number&#x27;);\n    expect(item).to.have.property(&#x27;code&#x27;);\n    expect(item.code).to.be.a(&#x27;string&#x27;);\n    expect(item).to.have.property(&#x27;amount&#x27;);\n    expect(item.amount).to.be.a(&#x27;string&#x27;);\n    expect(item).to.have.property(&#x27;description&#x27;);\n    expect(item.description).to.be.a(&#x27;string&#x27;);\n    expect(item).to.have.property(&#x27;discount_type&#x27;);\n    expect(item.discount_type).to.be.a(&#x27;string&#x27;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee469459-1a6c-400b-a89f-1a4b80509795&quot;,&quot;parentUUID&quot;:&quot;b3676fe0-1848-4118-9149-69da5dd8422f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar status 200&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API Quando é feita uma requisição com autenticação e autorização Deve retornar status 200&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(response.status).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f91b0412-106f-4a79-b35f-58c0678ada98&quot;,&quot;parentUUID&quot;:&quot;b3676fe0-1848-4118-9149-69da5dd8422f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ee469459-1a6c-400b-a89f-1a4b80509795&quot;,&quot;f91b0412-106f-4a79-b35f-58c0678ada98&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1883c8b9-28f9-4926-b459-56f903a475c2&quot;,&quot;title&quot;:&quot;Quando é feita uma requisição sem token de autenticação&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\getCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\getCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição sem token de autenticação\&quot;&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API Quando é feita uma requisição sem token de autenticação \&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição sem token de autenticação\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:304,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (!scenario.auth) {\n    response = await request(apiUrl).get(apiRoute);\n} else {\n    response = await request(apiUrl)\n        .get(apiRoute)\n        .set(\&quot;Authorization\&quot;, `Bearer ${scenario.auth}`);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f123859f-a489-4bf9-ba3c-3d7792e9410d&quot;,&quot;parentUUID&quot;:&quot;1883c8b9-28f9-4926-b459-56f903a475c2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar uma mensagem de erro.&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API Quando é feita uma requisição sem token de autenticação Deve retornar uma mensagem de erro.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const jsonData = response.body;\nexpect(jsonData).to.have.property(&#x27;message&#x27;);\nexpect(jsonData.message).to.be.a(&#x27;string&#x27;);\nexpect(jsonData.message).to.eql(errorMessage);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a250c499-3700-4ab2-9d7d-481e0f1f9f84&quot;,&quot;parentUUID&quot;:&quot;1883c8b9-28f9-4926-b459-56f903a475c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar status 401&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API Quando é feita uma requisição sem token de autenticação Deve retornar status 401&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(response.status).to.equal(scenario.errorCode);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85285605-6729-4163-a8f4-589960106f64&quot;,&quot;parentUUID&quot;:&quot;1883c8b9-28f9-4926-b459-56f903a475c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a250c499-3700-4ab2-9d7d-481e0f1f9f84&quot;,&quot;85285605-6729-4163-a8f4-589960106f64&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;28419a1b-c46f-472a-b29a-c5eddb7f6761&quot;,&quot;title&quot;:&quot;Quando é feita uma requisição com token autenticado porém sem autorização&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\getCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\getCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição com token autenticado porém sem autorização\&quot;&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API Quando é feita uma requisição com token autenticado porém sem autorização \&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição com token autenticado porém sem autorização\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:360,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (!scenario.auth) {\n    response = await request(apiUrl).get(apiRoute);\n} else {\n    response = await request(apiUrl)\n        .get(apiRoute)\n        .set(\&quot;Authorization\&quot;, `Bearer ${scenario.auth}`);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b5c98f3-1a56-4f3a-8a3f-b6f965bab302&quot;,&quot;parentUUID&quot;:&quot;28419a1b-c46f-472a-b29a-c5eddb7f6761&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar uma mensagem de erro.&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API Quando é feita uma requisição com token autenticado porém sem autorização Deve retornar uma mensagem de erro.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const jsonData = response.body;\nexpect(jsonData).to.have.property(&#x27;message&#x27;);\nexpect(jsonData.message).to.be.a(&#x27;string&#x27;);\nexpect(jsonData.message).to.eql(errorMessage);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected &#x27;&lt;strong&gt;Erro&lt;/strong&gt;: A senha inform…&#x27; to deeply equal &#x27;Sem permissão para listar recursos.&#x27;&quot;,&quot;estack&quot;:&quot;AssertionError: expected &#x27;&lt;strong&gt;Erro&lt;/strong&gt;: A senha inform…&#x27; to deeply equal &#x27;Sem permissão para listar recursos.&#x27;\n    at Context.&lt;anonymous&gt; (file:///D:/Users/Bruno/Documents/Development/Ebac/QA/M-34%20Trabalho%20Final/TCC-EBAC-QE/API/tests/getCoupons.spec.mjs:67:45)\n    at process.processImmediate (node:internal/timers:478:21)&quot;,&quot;diff&quot;:&quot;- &lt;strong&gt;Erro&lt;/strong&gt;: A senha informada para o usuário &lt;strong&gt;admin_ebac&lt;/strong&gt; está incorreta. &lt;a href=\&quot;http://lojaebac.ebaconline.art.br/minha-conta/lost-password/\&quot;&gt;Perdeu a senha?&lt;/a&gt;\n+ Sem permissão para listar recursos.\n&quot;},&quot;uuid&quot;:&quot;70fa3f79-474e-4884-95e6-d1f7614f680e&quot;,&quot;parentUUID&quot;:&quot;28419a1b-c46f-472a-b29a-c5eddb7f6761&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar status 401&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um GET na rota de cupons da API Quando é feita uma requisição com token autenticado porém sem autorização Deve retornar status 401&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(response.status).to.equal(scenario.errorCode);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 500 to equal 401&quot;,&quot;estack&quot;:&quot;AssertionError: expected 500 to equal 401\n    at Context.&lt;anonymous&gt; (file:///D:/Users/Bruno/Documents/Development/Ebac/QA/M-34%20Trabalho%20Final/TCC-EBAC-QE/API/tests/getCoupons.spec.mjs:71:44)\n    at process.processImmediate (node:internal/timers:478:21)&quot;,&quot;diff&quot;:&quot;- 500\n+ 401\n&quot;},&quot;uuid&quot;:&quot;9196909a-2eed-4aee-b25b-32ad3f7aa576&quot;,&quot;parentUUID&quot;:&quot;28419a1b-c46f-472a-b29a-c5eddb7f6761&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;70fa3f79-474e-4884-95e6-d1f7614f680e&quot;,&quot;9196909a-2eed-4aee-b25b-32ad3f7aa576&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;09b4f517-3fab-4611-86e1-2e0bffe2ee3e&quot;,&quot;title&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;320d93fa-3292-4e7b-973d-57410dd27870&quot;,&quot;title&quot;:&quot;Quando é enviado um corpo de requisição inválido&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Quando é enviado um corpo de requisição inválido\&quot;&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é enviado um corpo de requisição inválido \&quot;before all\&quot; hook in \&quot;Quando é enviado um corpo de requisição inválido\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:352,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request(apiUrl)\n    .post(apiRoute)\n    .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n    .send({});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27353cac-4244-40f5-97b7-4813e1e0e176&quot;,&quot;parentUUID&quot;:&quot;320d93fa-3292-4e7b-973d-57410dd27870&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar mensagem de erro que auxilie o cliente.&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é enviado um corpo de requisição inválido Deve retornar mensagem de erro que auxilie o cliente.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const jsonData = response.body;\nexpect(jsonData).to.have.property(\&quot;message\&quot;);\nexpect(typeof jsonData.message).to.eql(\&quot;string\&quot;);\nexpect(jsonData.message).to.include(wrongBody);\nexpect(jsonData).to.have.property(\&quot;data\&quot;);\nexpect(jsonData.data).to.have.property(\&quot;params\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8aea666-8437-4026-95f4-07eee56d07dc&quot;,&quot;parentUUID&quot;:&quot;320d93fa-3292-4e7b-973d-57410dd27870&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar status 400&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é enviado um corpo de requisição inválido Deve retornar status 400&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(response.status).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a68ad755-83b5-467e-ab1e-b991c2e4a85e&quot;,&quot;parentUUID&quot;:&quot;320d93fa-3292-4e7b-973d-57410dd27870&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f8aea666-8437-4026-95f4-07eee56d07dc&quot;,&quot;a68ad755-83b5-467e-ab1e-b991c2e4a85e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d9194aa8-ad67-4eb5-8ea0-43d29801c9f8&quot;,&quot;title&quot;:&quot;Quando é enviado um corpo com um nome de código que já existe.&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Quando é enviado um corpo com um nome de código que já existe.\&quot;&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é enviado um corpo com um nome de código que já existe. \&quot;before all\&quot; hook in \&quot;Quando é enviado um corpo com um nome de código que já existe.\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:331,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request(apiUrl)\n    .post(apiRoute)\n    .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n    .send(existingCoupon);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81282d2d-0338-4411-ac19-521e26a88d48&quot;,&quot;parentUUID&quot;:&quot;d9194aa8-ad67-4eb5-8ea0-43d29801c9f8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar mensagem de erro&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é enviado um corpo com um nome de código que já existe. Deve retornar mensagem de erro&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const jsonData = response.body;\nexpect(jsonData).to.have.property(\&quot;message\&quot;);\nexpect(jsonData.message).to.be.a(\&quot;string\&quot;);\nexpect(jsonData.message).to.contain(invalidName);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bedc4b9-ce10-4264-a1b7-eb5ab6470538&quot;,&quot;parentUUID&quot;:&quot;d9194aa8-ad67-4eb5-8ea0-43d29801c9f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar status 400&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é enviado um corpo com um nome de código que já existe. Deve retornar status 400&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61f8cbe5-c84c-4069-ad57-d6affcc27998&quot;,&quot;parentUUID&quot;:&quot;d9194aa8-ad67-4eb5-8ea0-43d29801c9f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1bedc4b9-ce10-4264-a1b7-eb5ab6470538&quot;,&quot;61f8cbe5-c84c-4069-ad57-d6affcc27998&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9bee86ff-e3ab-4416-8873-b512579ba33d&quot;,&quot;title&quot;:&quot;Quando são enviados dados válidos com token autenticado&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Quando são enviados dados válidos com token autenticado\&quot;&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando são enviados dados válidos com token autenticado \&quot;before all\&quot; hook in \&quot;Quando são enviados dados válidos com token autenticado\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:973,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request(apiUrl)\n    .post(apiRoute)\n    .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n    .send(newCoupon);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bb38988-d32f-4cfa-bd2d-7ea44815eaf6&quot;,&quot;parentUUID&quot;:&quot;9bee86ff-e3ab-4416-8873-b512579ba33d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar o objeto com os itens esperados (CONTRATO).&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando são enviados dados válidos com token autenticado Deve retornar o objeto com os itens esperados (CONTRATO).&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const jsonData = response.body;\nexpect(jsonData).to.have.property(\&quot;id\&quot;);\nexpect(jsonData.id).to.be.a(\&quot;number\&quot;);\nexpect(jsonData).to.have.property(\&quot;amount\&quot;);\nexpect(jsonData.amount).to.be.a(\&quot;string\&quot;);\nexpect(jsonData).to.have.property(\&quot;discount_type\&quot;);\nexpect(valid_discount_types).to.include(jsonData.discount_type);\nexpect(jsonData).to.have.property(\&quot;description\&quot;);\nexpect(jsonData.description).to.be.a(\&quot;string\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b448bcb4-9e89-4171-a80a-16eb40b53811&quot;,&quot;parentUUID&quot;:&quot;9bee86ff-e3ab-4416-8873-b512579ba33d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar status 201&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando são enviados dados válidos com token autenticado Deve retornar status 201&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(response.statusCode).to.equal(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;073faa46-95dd-4c84-866e-b6d6a070fc53&quot;,&quot;parentUUID&quot;:&quot;9bee86ff-e3ab-4416-8873-b512579ba33d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b448bcb4-9e89-4171-a80a-16eb40b53811&quot;,&quot;073faa46-95dd-4c84-866e-b6d6a070fc53&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fdb5be93-cb73-4e8c-88cc-f7082dc0569a&quot;,&quot;title&quot;:&quot;Quando é feita uma requisição sem token de autenticação&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição sem token de autenticação\&quot;&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é feita uma requisição sem token de autenticação \&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição sem token de autenticação\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:434,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (!scenario.auth) {\n    response = await request(apiUrl).get(apiRoute)\n        .send(newCoupon);\n} else {\n    response = await request(apiUrl)\n        .get(apiRoute)\n        .set(\&quot;Authorization\&quot;, `Bearer ${scenario.auth}`)\n        .send(newCoupon);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9b04298-0ee7-44f0-8a4d-96d3e088d2af&quot;,&quot;parentUUID&quot;:&quot;fdb5be93-cb73-4e8c-88cc-f7082dc0569a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar mensagem de erro que orienta o cliente&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é feita uma requisição sem token de autenticação Deve retornar mensagem de erro que orienta o cliente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const jsonData = response.body;\nexpect(jsonData).to.have.property(\&quot;message\&quot;);\nexpect(jsonData.message).to.be.a(\&quot;string\&quot;);\nexpect(jsonData.message).to.contain(noToken);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d51f7191-6a1b-42df-84f9-9f0245dea2f0&quot;,&quot;parentUUID&quot;:&quot;fdb5be93-cb73-4e8c-88cc-f7082dc0569a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar status 401&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é feita uma requisição sem token de autenticação Deve retornar status 401&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(response.statusCode).to.equal(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d830154a-551d-4d4a-8c2d-ac0712ae8a60&quot;,&quot;parentUUID&quot;:&quot;fdb5be93-cb73-4e8c-88cc-f7082dc0569a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d51f7191-6a1b-42df-84f9-9f0245dea2f0&quot;,&quot;d830154a-551d-4d4a-8c2d-ac0712ae8a60&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2f5c48ff-1526-4c25-9eae-80e71cd03def&quot;,&quot;title&quot;:&quot;Quando é feita uma requisição com token autenticado porém sem autorização&quot;,&quot;fullFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;file&quot;:&quot;\\API\\tests\\postCoupons.spec.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição com token autenticado porém sem autorização\&quot;&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é feita uma requisição com token autenticado porém sem autorização \&quot;before all\&quot; hook in \&quot;Quando é feita uma requisição com token autenticado porém sem autorização\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:323,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (!scenario.auth) {\n    response = await request(apiUrl).get(apiRoute)\n        .send(newCoupon);\n} else {\n    response = await request(apiUrl)\n        .get(apiRoute)\n        .set(\&quot;Authorization\&quot;, `Bearer ${scenario.auth}`)\n        .send(newCoupon);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b32175e2-88df-45da-a3a7-64a67c373fc6&quot;,&quot;parentUUID&quot;:&quot;2f5c48ff-1526-4c25-9eae-80e71cd03def&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deve retornar mensagem de erro que orienta o cliente&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é feita uma requisição com token autenticado porém sem autorização Deve retornar mensagem de erro que orienta o cliente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const jsonData = response.body;\nexpect(jsonData).to.have.property(\&quot;message\&quot;);\nexpect(jsonData.message).to.be.a(\&quot;string\&quot;);\nexpect(jsonData.message).to.contain(noToken);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected &#x27;&lt;strong&gt;Erro&lt;/strong&gt;: A senha inform…&#x27; to include &#x27;Sem permissão para listar recursos.&#x27;&quot;,&quot;estack&quot;:&quot;AssertionError: expected &#x27;&lt;strong&gt;Erro&lt;/strong&gt;: A senha inform…&#x27; to include &#x27;Sem permissão para listar recursos.&#x27;\n    at Context.&lt;anonymous&gt; (file:///D:/Users/Bruno/Documents/Development/Ebac/QA/M-34%20Trabalho%20Final/TCC-EBAC-QE/API/tests/postCoupons.spec.mjs:111:45)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;3eaf4b42-92ad-4ec6-8de3-c29debd4b24c&quot;,&quot;parentUUID&quot;:&quot;2f5c48ff-1526-4c25-9eae-80e71cd03def&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deve retornar status 401&quot;,&quot;fullTitle&quot;:&quot;Dado que você está fazendo um POST na rota de cupons da API Quando é feita uma requisição com token autenticado porém sem autorização Deve retornar status 401&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(response.statusCode).to.equal(401);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 500 to equal 401&quot;,&quot;estack&quot;:&quot;AssertionError: expected 500 to equal 401\n    at Context.&lt;anonymous&gt; (file:///D:/Users/Bruno/Documents/Development/Ebac/QA/M-34%20Trabalho%20Final/TCC-EBAC-QE/API/tests/postCoupons.spec.mjs:114:48)\n    at process.processImmediate (node:internal/timers:478:21)&quot;,&quot;diff&quot;:&quot;- 500\n+ 401\n&quot;},&quot;uuid&quot;:&quot;b51b15d5-49c8-44f1-9773-a46fb70adf74&quot;,&quot;parentUUID&quot;:&quot;2f5c48ff-1526-4c25-9eae-80e71cd03def&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;3eaf4b42-92ad-4ec6-8de3-c29debd4b24c&quot;,&quot;b51b15d5-49c8-44f1-9773-a46fb70adf74&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.6.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;./API/apiReporter&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;./API/apiReporter&quot;,&quot;reportTitle&quot;:&quot;TCC-EBAC-QE&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;API\\apiReporter\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\apiReporter\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\Users\\Bruno\\Documents\\Development\\Ebac\\QA\\M-34 Trabalho Final\\TCC-EBAC-QE\\API\\apiReporter\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>